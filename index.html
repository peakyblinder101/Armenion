<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allergy Registration</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Registration Screen -->
        <section id="registration" class="form-container">
            <h2>Registration</h2>
            <input type="text" id="username" placeholder="Username" required aria-label="Username" class="input-small">
            <input type="password" id="password" placeholder="Password" required aria-label="Password" class="input-small">
            <h3>Select Your Allergies:</h3>
            <form id="allergyForm" class="checkbox-container">
                <label><input type="checkbox" value="milk"> Milk</label>
                <label><input type="checkbox" value="eggs"> Eggs</label>
                <label><input type="checkbox" value="fish"> Fish</label>
                <label><input type="checkbox" value="shellfish"> Shellfish</label>
                <label><input type="checkbox" value="tree_nuts"> Tree Nuts</label>
                <label><input type="checkbox" value="peanuts"> Peanuts</label>
                <label><input type="checkbox" value="wheat"> Wheat</label>
                <label><input type="checkbox" value="soybeans"> Soybeans</label>
            </form>
            <button id="registerButton">Register</button>
            <p id="message" class="message"></p>
        </section>

        <!-- Login Screen -->
        <section id="login" class="form-container" style="display: none;">
            <h2>Login</h2>
            <input type="text" id="loginUsername" placeholder="Username" required aria-label="Login Username" class="input-small">
            <input type="password" id="loginPassword" placeholder="Password" required aria-label="Login Password" class="input-small">
            <button id="loginButton">Login</button>
            <p id="loginMessage" class="message"></p>
        </section>

        <!-- Home Screen -->
        <section id="home" class="form-container" style="display: none;">
            <header class="header">
                <div class="logo">LOGO</div>
                <div class="profile">
                    <button id="profileButton" class="profile-button">üë§ Profile</button>
                    <button class="settings-button" style="margin-left: 10px;">‚öôÔ∏è</button>
                </div>
            </header>
            <main class="main-container">
                <aside class="sidebar">
                    <button id="homeButton">Home</button>
                    <button id="dietaryProfileButton">Dietary Profile</button>
                    <button id="favoritesButton">Favorites</button>
                    <button id="healthyTipsButton">Healthy Tips</button>
                    <button id="scanHistoryButton">Scan History</button>
                    <button id="logoutButton" style="margin-top:auto;">Logout</button>
                </aside>
                <div class="content">
                    <h2>Home</h2>
                    <div id="barcode-scanner" style="width: 100%; height: 100px; display: none;"></div>
                    <p id="scanMessage"></p>
                    <button id="startScanner">Start Camera Scanner</button>
                    <h3>Or Enter Barcode Manually:</h3>
                    <input type="text" id="manualBarcode" placeholder="Enter Barcode">
                    <button id="submitBarcode">Submit Barcode</button>

                    <!-- Recent Scans Container -->
                    <h3>Recent Scans:</h3>
                    <div id="recentScans" class="recent-scans-container"></div>
                </div>
            </main>
        </section>

        <!-- Profile Modal -->
        <div id="profileModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeModal">&times;</span>
                <h3>Your Profile</h3>
                <p><strong>Username:</strong> <span id="modalUsername"></span></p>
                <p><strong>Allergies:</strong> <span id="modalAllergies"></span></p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
